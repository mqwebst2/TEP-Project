(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();try{self["workbox:window:6.5.3"]&&_()}catch{}function I(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},e.postMessage(t,[r.port2])})}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(i,c){if(i){if(typeof i=="string")return j(i,c);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?j(i,c):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.3"]&&_()}catch{}var b=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function E(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var p=function(e,t){this.type=e,Object.assign(this,t)};function v(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function K(){}var $={type:"SKIP_WAITING"};function A(e,t){if(!t)return e&&e.then?e.then(K):Promise.resolve()}var V=function(e){var t,n;function r(f,u){var o,a;return u===void 0&&(u={}),(o=e.call(this)||this).nn={},o.tn=0,o.rn=new b,o.en=new b,o.on=new b,o.un=0,o.an=new Set,o.cn=function(){var l=o.fn,d=l.installing;o.tn>0||!E(d.scriptURL,o.sn.toString())||performance.now()>o.un+6e4?(o.vn=d,l.removeEventListener("updatefound",o.cn)):(o.hn=d,o.an.add(d),o.rn.resolve(d)),++o.tn,d.addEventListener("statechange",o.ln)},o.ln=function(l){var d=o.fn,m=l.target,g=m.state,y=m===o.vn,w={sw:m,isExternal:y,originalEvent:l};!y&&o.mn&&(w.isUpdate=!0),o.dispatchEvent(new p(g,w)),g==="installed"?o.wn=self.setTimeout(function(){g==="installed"&&d.waiting===m&&o.dispatchEvent(new p("waiting",w))},200):g==="activating"&&(clearTimeout(o.wn),y||o.en.resolve(m))},o.dn=function(l){var d=o.hn,m=d!==navigator.serviceWorker.controller;o.dispatchEvent(new p("controlling",{isExternal:m,originalEvent:l,sw:d,isUpdate:o.mn})),m||o.on.resolve(d)},o.gn=(a=function(l){var d=l.data,m=l.ports,g=l.source;return v(o.getSW(),function(){o.an.has(g)&&o.dispatchEvent(new p("message",{data:d,originalEvent:l,ports:m,sw:g}))})},function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];try{return Promise.resolve(a.apply(this,l))}catch(m){return Promise.reject(m)}}),o.sn=f,o.nn=u,navigator.serviceWorker.addEventListener("message",o.gn),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,c,s=r.prototype;return s.register=function(f){var u=(f===void 0?{}:f).immediate,o=u!==void 0&&u;try{var a=this;return function(l,d){var m=l();return m&&m.then?m.then(d):d(m)}(function(){if(!o&&document.readyState!=="complete")return A(new Promise(function(l){return window.addEventListener("load",l)}))},function(){return a.mn=Boolean(navigator.serviceWorker.controller),a.yn=a.pn(),v(a.bn(),function(l){a.fn=l,a.yn&&(a.hn=a.yn,a.en.resolve(a.yn),a.on.resolve(a.yn),a.yn.addEventListener("statechange",a.ln,{once:!0}));var d=a.fn.waiting;return d&&E(d.scriptURL,a.sn.toString())&&(a.hn=d,Promise.resolve().then(function(){a.dispatchEvent(new p("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),a.hn&&(a.rn.resolve(a.hn),a.an.add(a.hn)),a.fn.addEventListener("updatefound",a.cn),navigator.serviceWorker.addEventListener("controllerchange",a.dn),a.fn})})}catch(l){return Promise.reject(l)}},s.update=function(){try{return this.fn?A(this.fn.update()):void 0}catch(f){return Promise.reject(f)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(f){try{return v(this.getSW(),function(u){return I(u,f)})}catch(u){return Promise.reject(u)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&I(this.fn.waiting,$)},s.pn=function(){var f=navigator.serviceWorker.controller;return f&&E(f.scriptURL,this.sn.toString())?f:void 0},s.bn=function(){try{var f=this;return function(u,o){try{var a=u()}catch(l){return o(l)}return a&&a.then?a.then(void 0,o):a}(function(){return v(navigator.serviceWorker.register(f.sn,f.nn),function(u){return f.un=performance.now(),u})},function(u){throw u})}catch(u){return Promise.reject(u)}},i=r,(c=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&U(i.prototype,c),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(n,r){this.Sn(n).add(r)},t.removeEventListener=function(n,r){this.Sn(n).delete(r)},t.dispatchEvent=function(n){n.target=this;for(var r,i=F(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},t.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},e}());function G(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:c}=e;let s,f;const u=async(o=!0)=>{o&&(s==null||s.addEventListener("controlling",a=>{a.isUpdate&&window.location.reload()})),f&&f.waiting&&await I(f.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){s=new V("/./sw.js",{scope:"/",type:"classic"}),s.addEventListener("activated",o=>{o.isUpdate||r==null||r()});{const o=()=>{n==null||n()};s.addEventListener("waiting",o),s.addEventListener("externalwaiting",o)}s.register({immediate:t}).then(o=>{f=o,i==null||i(o)}).catch(o=>{c==null||c(o)})}return u}class H extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"}),n=document.querySelector("#comment-template").content.cloneNode(!0);t.append(n),this.name=this.shadowRoot.querySelector(".comment-title__name"),this.email=this.shadowRoot.querySelector(".comment-title__email"),this.message=this.shadowRoot.querySelector(".comment-body__message"),this.time=this.shadowRoot.querySelector(".comment-body__time")}static get observedAttributes(){return["name","email","message","time"]}attributeChangedCallback(t,n,r){n!==r&&this[`${t}`]&&(this[`${t}`].textContent=r)}}customElements.get("custom-comment")===void 0&&customElements.define("custom-comment",H);const Y=(e,t)=>t.some(n=>e instanceof n);let M,B;function z(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J(){return B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x=new WeakMap,D=new WeakMap,N=new WeakMap,S=new WeakMap,W=new WeakMap;function Q(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",c),e.removeEventListener("error",s)},c=()=>{n(h(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",c),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&x.set(n,e)}).catch(()=>{}),W.set(t,e),t}function X(e){if(D.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",s),e.removeEventListener("abort",s)},c=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",c),e.addEventListener("error",s),e.addEventListener("abort",s)});D.set(e,t)}let R={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return D.get(e);if(t==="objectStoreNames")return e.objectStoreNames||N.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return h(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Z(e){R=e(R)}function ee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(L(this),t,...n);return N.set(r,t.sort?t.sort():[t]),h(r)}:J().includes(e)?function(...t){return e.apply(L(this),t),h(x.get(this))}:function(...t){return h(e.apply(L(this),t))}}function te(e){return typeof e=="function"?ee(e):(e instanceof IDBTransaction&&X(e),Y(e,z())?new Proxy(e,R):e)}function h(e){if(e instanceof IDBRequest)return Q(e);if(S.has(e))return S.get(e);const t=te(e);return t!==e&&(S.set(e,t),W.set(t,e)),t}const L=e=>W.get(e);function ne(e,t,{blocked:n,upgrade:r,blocking:i,terminated:c}={}){const s=indexedDB.open(e,t),f=h(s);return r&&s.addEventListener("upgradeneeded",u=>{r(h(s.result),u.oldVersion,u.newVersion,h(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),f.then(u=>{c&&u.addEventListener("close",()=>c()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}const re=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],P=new Map;function k(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(P.get(t))return P.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=oe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||re.includes(n)))return;const c=async function(s,...f){const u=this.transaction(s,i?"readwrite":"readonly");let o=u.store;return r&&(o=o.index(f.shift())),(await Promise.all([o[n](...f),i&&u.done]))[0]};return P.set(t,c),c}Z(e=>({...e,get:(t,n,r)=>k(t,n)||e.get(t,n,r),has:(t,n)=>!!k(t,n)||e.has(t,n)}));const ie=ne("comment-store",1,{upgrade(e){e.createObjectStore("comments",{keyPath:"id",autoIncrement:!0})}});class se{constructor(t={}){const n=this;this.subscribers=[],ie.then(async r=>{this.db=r;const i=await r.getAll("comments");this.state.commentList=i,console.log(this.state.commentList)}),this.state=new Proxy(t,{async set(r,i,c){if(r[i]=c,n.db&&i==="commentList"){const s=c[c.length-1];s&&!(s!=null&&s.id)&&await n.db.add("comments",s)}for(const s of n.subscribers)s(r);return!0}})}subscribe(t){if(typeof t!="function")throw new Error("You must subscribe with a function.");this.subscribers.push(t),t(this.state)}addComment(t){t.date||(t.date=new Date().toLocaleString()),this.state.commentList.push(t),this.state.commentList=this.state.commentList}}const q=new se({commentList:[]}),C=G({onNeedRefresh(){window.confirm("New content is available! Please refresh to load new page content.")===!0?C():console.log("Page Refresh Needed")},onOfflineReady(){window.confirm("Please confirm to make the content available offline.")===!0?C():console.log("Offline Ready")},onRegistered(){console.log("Registered")},onRegisterError(e){console.log("Register Error"),console.error(e)}}),ae=document.querySelectorAll("[required]"),O=document.querySelector("#form"),T=document.querySelector("#output");for(const e of ae)e.closest(".form-item").querySelector("label").classList.add("required");O.addEventListener("submit",e=>{e.preventDefault();const t=Object.fromEntries(new FormData(O).entries());console.log(t),q.addComment(t),e.target.reset(),e.target.querySelector("input").focus()});q.subscribe(e=>{const t=e.commentList;console.log(t),T.innerHTML="";for(const n of t){const r=document.createElement("custom-comment");r.setAttribute("name",n.name),r.setAttribute("email",n.email),r.setAttribute("message",n.comment),r.setAttribute("time",n.date),T.append(r)}});
